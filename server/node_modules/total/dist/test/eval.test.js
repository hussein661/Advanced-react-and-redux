"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const child_process_1 = require("child_process");
describe('eval', () => {
    test('eval -f. Evaluates stdin in a function.', () => {
        return new Promise((resolve, reject) => {
            child_process_1.exec('echo "hello" | node ./dist/cli.js eval -f "std => stdin + \' world\'"', (err, stdout, stderr) => {
                if (err)
                    return reject(err);
                if (stderr)
                    return reject(stderr);
                expect(stdout.replace(/\r?\n|\r/g, '')).toEqual('hello world');
                resolve();
            });
        });
    });
});
